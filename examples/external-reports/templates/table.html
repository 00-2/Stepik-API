<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>contestant table</title>
    <style>
    table, th, td {
      border: 1px solid;
    }

    table {
      width: 100%;
    }
    </style>
    <link href="table.css" rel="stylesheet" />
</head>
<body>
<table>
    <thead>
        <tr>
            <th>Итог</th>
            {% for i in range(1,count_tasks+1) %}
                <th>
                    Q{{ i }}
                </th>
            {% endfor %}
            <th>
                final Score
            </th>
        </tr>
    </thead>
    <tbody>
        {% for contestant in marks %}
            <tr>
                <th>{{ contestant }}</th>
                {% for score in marks[contestant] %}

                    {% if '-' == score['submission_time'] %}
                        <th> {{ score['score'] }} </th>
                    {% else %}
                        <th> {{ score['score'] }} {{ score['submission_time'] }} </th>
                    {% endif %}
                {% endfor %}
            </tr>
        {% endfor %}

    </tbody>
</table>

</body>
</html>